{% load i18n %}

<div class="wrapperOnList col-lg-12 col-md-12 col-sm-12 col-xs-12" ng-hide="isPermissionDenied()">

    <!-- Error message -->
    <h4 class="error-comment-message" ng-repeat="(errorName,errorMessage) in errorAddAction.data">
        [[ errorName ]]:
        <ul>
            <li ng-repeat="errorMessage in errorMessage">
                [[ errorMessage ]]
            </li>
        </ul>
    </h4>

    <h1 class="item-detail-name">{% trans "Modify action" %}</h1>

    <!-- breadcrumb -->
    <ol class="breadcrumb">
        <li><a href="{% url 'home' %}">{% trans "Home" %}</a></li>
        <li><a href="{% url 'products_index_ang' %}#/products">
            {% trans "List of items" %}</a></li>
        <li>
            <a ng-href="#/products/[[ itemId ]]">{% trans "Detail of item" %}</a>
        </li>
        <li class="active">{% trans "Modify action" %}</li>
    </ol>
    <hr>

    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-right" ng-if="!doesActionNotExists()">
        <button class="btn btn-danger" type="button" ng-click="deleteAction()">{% trans "Delete action" %}</button>
    </div>

    <!-- form for add/edit action for item by owner -->
    <form name="action_add" class="form-horizontal action_add" role="form" method="POST" ng-submit="addAction()">

        <div class="form-group"><label class="col-md-2 control-label" for="id_name">{% trans "New price" %}</label>

            <div class="col-md-7"><input class="form-control" id="id_price" maxlength="100" name="new_price"
                                         placeholder="new price of the item" required="required" title="" type="number"
                                         ng-model="action.new_price"></div>
        </div>

        <div class="form-group"><label class="col-md-2 control-label" for="id_description">{% trans "Description" %}</label>

            <div class="col-md-7"><textarea class="form-control" cols="40" id="id_description" name="description"
                                            placeholder="description" required="required" rows="10"
                                            title="" ng-model="action.description"></textarea></div>
            <div class="col-lg-11 col-md-10 col-sm-12 col-xs-12 text-center"
                 ng-show="edit_item_form.description.$error.required">
                <span class="help-block-error"><strong>This field is required.</strong></span>
            </div>
        </div>

        <!-- date picker form pick start date action-->
        <div class="form-group"><label class="col-md-2 control-label" for="id_description">{% trans "Pick 'from' date" %}</label>

            <div class="col-md-7">
                <div class="row">
                    <div class="col-md-6">
                        <p class="input-group">
                            <md-datepicker ng-model="action.period_from" md-placeholder="Enter start-date"></md-datepicker>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- date picker form pick end date action -->
        <div class="form-group"><label class="col-md-2 control-label" for="id_description">{% trans "Pick 'to' date" %}</label>

            <div class="col-md-7">
                <div class="row">
                    <div class="col-md-6">
                        <p class="input-group">
                            <md-datepicker ng-model="action.period_to" md-placeholder="Enter end-date"></md-datepicker>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-6 col-md-offset-2 text-center">
                <input type="submit" class="btn btn-primary" name="submit" value="Submit">
            </div>
        </div>
    </form>

</div>

<!-- PermissionDenied block -->
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center" ng-if="isPermissionDenied()">
    <h2>{% trans "You try to edit another's shop action!" %}</h2>
</div>